{"version":3,"file":"movement-restrictor.js","sourceRoot":"","sources":["../../../src/features/change-bounds/movement-restrictor.ts"],"names":[],"mappings":"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"}